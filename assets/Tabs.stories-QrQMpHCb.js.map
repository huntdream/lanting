{"version":3,"file":"Tabs.stories-QrQMpHCb.js","sources":["../../src/components/Tabs/index.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef, MouseEvent, useMemo } from 'react';\nimport cls from 'classnames';\nimport './style.scss';\n\nexport interface Tab {\n  id: string;\n  label: string;\n  content: React.ReactNode;\n}\n\ninterface TabProps {\n  tabs: Tab[];\n  sticky?: boolean;\n  activeTab?: string;\n  onTabChange?: (tabId: string) => void;\n}\n\nconst Tabs: React.FC<TabProps> = ({\n  tabs = [],\n  sticky,\n  activeTab,\n  onTabChange,\n}) => {\n  const [hlStyles, setHLStyles] = useState<React.CSSProperties>({});\n  const hlRef = useRef<HTMLDivElement>(null);\n  const [active, setActive] = useState<string>(tabs[0]?.id);\n\n  useEffect(() => {\n    setActive(activeTab || tabs[0]?.id);\n  }, [activeTab, tabs]);\n\n  const handleTabChange = (tabId: string) => {\n    setActive(tabId);\n\n    if (onTabChange) {\n      onTabChange(tabId);\n    }\n  };\n\n  const handleMouseEnter = (e: MouseEvent<HTMLDivElement>) => {\n    const { width, left } = e.currentTarget.getBoundingClientRect();\n    const parentLeft =\n      e.currentTarget.parentElement?.getBoundingClientRect().left || 0;\n    const offset = left - parentLeft;\n\n    setHLStyles({\n      width,\n      opacity: 1,\n      transform: `translateX(${offset}px)`,\n    });\n  };\n\n  const handleMouseLeave = () => {\n    setHLStyles({ ...hlStyles, opacity: 0 });\n  };\n\n  const content = useMemo(\n    () => tabs.find((tab) => tab.id === active)?.content,\n    [active, tabs]\n  );\n\n  return (\n    <div\n      className={cls('tabs', {\n        'tabs--sticky': sticky,\n      })}\n    >\n      <div className='tabs-header'>\n        <div className='tabs-list' onMouseLeave={handleMouseLeave}>\n          {tabs.map((tab) => (\n            <div\n              key={tab.id}\n              className={`tabs-label ${tab.id === active ? 'active' : ''}`}\n              onClick={() => handleTabChange(tab.id)}\n              onMouseEnter={handleMouseEnter}\n            >\n              {tab.label}\n            </div>\n          ))}\n          <div className='tabs-highlight' style={hlStyles} ref={hlRef} />\n        </div>\n      </div>\n      {content ? <div className='tabs-content'>{content}</div> : null}\n    </div>\n  );\n};\n\nexport default Tabs;\n"],"names":["Tabs","tabs","sticky","activeTab","onTabChange","hlStyles","setHLStyles","useState","hlRef","useRef","active","setActive","_a","useEffect","handleTabChange","tabId","handleMouseEnter","width","left","parentLeft","offset","handleMouseLeave","content","useMemo","tab","jsxs","cls","jsx"],"mappings":"8HAiBA,MAAAA,EAAA,CAAA,CAAkC,KAAAC,EAAA,CAAA,EACxB,OAAAC,EACR,UAAAC,EACA,YAAAC,CAEF,IAAA,OACE,KAAA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAA,CAAA,CAAA,EACAC,EAAAC,SAAA,IAAA,EACA,CAAAC,EAAAC,CAAA,EAAAJ,EAAAA,UAAAK,EAAAX,EAAA,CAAA,IAAA,YAAAW,EAAA,EAAA,EAEAC,EAAAA,UAAA,IAAA,OACEF,EAAAR,KAAAS,EAAAX,EAAA,CAAA,IAAA,YAAAW,EAAA,GAAA,CAAkC,EAAA,CAAAT,EAAAF,CAAA,CAAA,EAGpC,MAAAa,EAAAC,GAAA,CACEJ,EAAAI,CAAA,EAEAX,GACEA,EAAAW,CAAA,CACF,EAGFC,EAAA,GAAA,OACE,KAAA,CAAA,MAAAC,EAAA,KAAAC,CAAA,EAAA,EAAA,cAAA,wBACAC,IAAAP,EAAA,EAAA,cAAA,gBAAA,YAAAA,EAAA,wBAAA,OAAA,EAEAQ,EAAAF,EAAAC,EAEAb,EAAA,CAAY,MAAAW,EACV,QAAA,EACS,UAAA,cAAAG,CAAA,KACsB,CAAA,CAChC,EAGHC,EAAA,IAAA,CACEf,EAAA,CAAA,GAAAD,EAAA,QAAA,CAAA,CAAA,CAAuC,EAGzCiB,EAAAC,EAAA,QAAgB,IAAA,OAAA,OAAAX,EAAAX,EAAA,KAAAuB,GAAAA,EAAA,KAAAd,CAAA,IAAA,YAAAE,EAAA,SAC+B,CAAAF,EAAAT,CAAA,CAChC,EAGf,OAAAwB,EAAA,KACE,MAAC,CAAA,UAAAC,EAAA,OAAA,CACwB,eAAAxB,CACL,CAAA,EACjB,SAAA,CAEDyB,EAAAA,IAAA,MAAA,CAAA,UAAA,cAAA,SAAAF,EAAAA,KAAA,MAAA,CAAA,UAAA,YAAA,aAAAJ,EAAA,SAAA,CAEKpB,EAAA,IAAAuB,GAAAG,EAAA,IACC,MAAC,CAAA,UAAA,cAAAH,EAAA,KAAAd,EAAA,SAAA,EAAA,GAE2D,QAAA,IAAAI,EAAAU,EAAA,EAAA,EACrB,aAAAR,EACvB,SAAAQ,EAAA,KAET,EAAAA,EAAA,EALI,CAAA,EAOZG,MAAA,MAAA,CAAA,UAAA,iBAAA,MAAAtB,EAAA,IAAAG,EAAA,CAC4D,CAAA,CAAA,CAAA,CAAA,EAEjEc,EAAAK,EAAAA,IAAA,MAAA,CAAA,UAAA,eAAA,SAAAL,CAAA,CAAA,EAAA,IAC2D,CAAA,CAAA,CAGjE;;;;;;;;;;;;"}