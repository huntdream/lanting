import{j as t,c as V}from"./index-111a7888.js";import{r as a}from"./index-76fb7be0.js";import{r as Y}from"./index-d3ea75b5.js";import"./_commonjsHelpers-de833af9.js";const j=({label:e,children:o,visible:l=!1,onVisibleChange:n})=>{const i=a.useRef(null),r=a.useRef(null),[s,f]=a.useState(!1);a.useEffect(()=>{const u=r.current,c=i.current;if(c&&u){const{left:p,top:m,height:h,right:w,width:N,bottom:D}=c.getBoundingClientRect(),{width:v,height:_}=u.getBoundingClientRect();let y=w-v;p+N<v&&(y=p);let x=m+h;window.innerHeight-D<_&&(x=m-h-_),u.style.top=`${x}px`,u.style.left=`${y}px`}},[s,r,i]),a.useEffect(()=>{f(l)},[l]),a.useEffect(()=>{const u=i.current;if(r.current,u!==null&&s){const c=p=>{const m=p.target;u.contains(m)||d(!1)};return document.addEventListener("click",c),()=>{document.removeEventListener("click",c)}}},[r,i,s]);const d=u=>{f(u),n&&n(u)},g=()=>{d(!0)};return t.jsxs(t.Fragment,{children:[t.jsx("div",{ref:i,onClick:g,className:"lanting-dropdown-label",children:e}),s&&Y.createPortal(t.jsx("div",{className:"lanting-dropdown",ref:r,children:o}),document.body)]})};try{j.displayName="DropDown",j.__docgenInfo={description:"",displayName:"DropDown",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},visible:{defaultValue:{value:"false"},description:"",name:"visible",required:!1,type:{name:"boolean"}},onVisibleChange:{defaultValue:null,description:"",name:"onVisibleChange",required:!1,type:{name:"((visible: boolean) => void)"}}}}}catch{}const k=a.forwardRef(({className:e,borderless:o,...l},n)=>{const i=V("lanting-input",{"lanting-input--borderless":o},e);return t.jsx("input",{ref:n,className:i,...l})});try{k.displayName="Input",k.__docgenInfo={description:"",displayName:"Input",props:{borderless:{defaultValue:null,description:"",name:"borderless",required:!1,type:{name:"boolean"}}}}}catch{}function M(e){const o="touches"in e?e.touches[0]:e,l=document.documentElement.scrollLeft||document.body.scrollLeft||window.scrollX,n=document.documentElement.scrollTop||document.body.scrollTop||window.scrollY;return{pageX:o.pageX-l,pageY:o.pageY-n}}const q=({containerRef:e,targetRef:o,direction:l="x"})=>{const[n,i]=a.useState({x:0,y:0}),r=a.useRef(null),s=a.useRef(null);a.useEffect(()=>()=>{!r.current||!s.current||(document.removeEventListener("mousemove",r.current),document.removeEventListener("mouseup",s.current),document.removeEventListener("touchmove",r.current),document.removeEventListener("touchend",s.current),r.current=null,s.current=null)},[]);const f=c=>{if(!e.current||!o.current)return;const{pageX:p,pageY:m}=M(c),{x:h,y:w,width:N,height:D}=e.current.getBoundingClientRect(),{width:v,height:_}=o.current.getBoundingClientRect(),y=v/2,x=_/2,X=Math.max(0,Math.min(p-h,N))-y,I=Math.max(0,Math.min(m-w,D))-x,O={x:X,y:l==="x"?n.y:I};i(O)},d=c=>{c.preventDefault(),s.current&&r.current&&(document.removeEventListener("mouseup",s.current),document.removeEventListener("mousemove",r.current),document.removeEventListener("touchend",s.current),document.removeEventListener("touchmove",r.current),r.current=null,s.current=null)},g=c=>{c.preventDefault(),f(c)};return[n,c=>{f(c),document.addEventListener("mouseup",d),document.addEventListener("mousemove",g),document.addEventListener("touchend",d),document.addEventListener("touchmove",g),r.current=g,s.current=d}]},E=({className:e})=>{const o=a.useRef(null),l=a.useRef(null),[n,i]=q({containerRef:o,targetRef:l,direction:"x"});return t.jsx("div",{className:V("lanting-color-picker-slider",e),ref:o,onMouseDown:i,onTouchStart:i,children:t.jsx("div",{style:{position:"absolute",left:n.x},children:t.jsx("div",{className:"lanting-color-picker-handler lanting-color-picker-handler-sm",ref:l})})})};try{E.displayName="Slider",E.__docgenInfo={description:"",displayName:"Slider",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const R=()=>{const[e,o]=a.useState("#fff"),l=n=>{o(n)};return t.jsxs("div",{className:"lanting-color-picker",children:[t.jsx("div",{className:"lanting-color-picker-basic-color"}),t.jsx("div",{className:"lanting-color-picker-saturation",style:{backgroundColor:"rgba(255,0,0)"}}),t.jsx(E,{className:"lanting-color-picker-hue"}),t.jsx(E,{className:"lanting-color-picker-alpha"}),t.jsxs("div",{className:"lanting-color-picker-input",children:[t.jsx("div",{children:"HEX"}),t.jsx(k,{value:e,onChange:n=>l(n.target.value)})]})]})};try{R.displayName="Picker",R.__docgenInfo={description:"",displayName:"Picker",props:{}}}catch{}const C=()=>t.jsx(j,{icon:"format_color_text",children:t.jsx(R,{})});try{C.displayName="ColorPicker",C.__docgenInfo={description:"",displayName:"ColorPicker",props:{}}}catch{}const W={component:C},b={};var L,S,P;b.parameters={...b.parameters,docs:{...(L=b.parameters)==null?void 0:L.docs,source:{originalSource:"{}",...(P=(S=b.parameters)==null?void 0:S.docs)==null?void 0:P.source}}};const F=["Primary"];export{b as Primary,F as __namedExportsOrder,W as default};
//# sourceMappingURL=ColorPicker.stories-9da0ba0d.js.map
