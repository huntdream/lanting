import{j as t,c as V}from"./index-111a7888.js";import{r as a}from"./index-76fb7be0.js";import{r as Y}from"./index-d3ea75b5.js";import"./_commonjsHelpers-de833af9.js";const j=({label:e,children:s,visible:l=!1,onVisibleChange:n})=>{const i=a.useRef(null),r=a.useRef(null),[c,g]=a.useState(!1);a.useEffect(()=>{const u=r.current,o=i.current;if(o&&u){const{left:d,top:f,height:m,right:N,width:w,bottom:D}=o.getBoundingClientRect(),{width:v,height:_}=u.getBoundingClientRect();let y=N-v;d+w<v&&(y=d);let x=f+m;window.innerHeight-D<_&&(x=f-m-_),u.style.top=`${x}px`,u.style.left=`${y}px`}},[c,r,i]),a.useEffect(()=>{g(l)},[l]),a.useEffect(()=>{const u=i.current,o=r.current;if(u!==null&&c){const d=f=>{const m=f.target;!u.contains(m)&&!(o!=null&&o.contains(m))&&p(!1)};return document.addEventListener("click",d),()=>{document.removeEventListener("click",d)}}},[r,i,c]);const p=u=>{g(u),n&&n(u)},h=()=>{p(!0)};return t.jsxs(t.Fragment,{children:[t.jsx("div",{ref:i,onClick:h,className:"lanting-dropdown-label",children:e}),c&&Y.createPortal(t.jsx("div",{className:"lanting-dropdown",ref:r,children:s}),document.body)]})};try{j.displayName="DropDown",j.__docgenInfo={description:"",displayName:"DropDown",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},visible:{defaultValue:{value:"false"},description:"",name:"visible",required:!1,type:{name:"boolean"}},onVisibleChange:{defaultValue:null,description:"",name:"onVisibleChange",required:!1,type:{name:"((visible: boolean) => void)"}}}}}catch{}const k=a.forwardRef(({className:e,borderless:s,...l},n)=>{const i=V("lanting-input",{"lanting-input--borderless":s},e);return t.jsx("input",{ref:n,className:i,...l})});try{k.displayName="Input",k.__docgenInfo={description:"",displayName:"Input",props:{borderless:{defaultValue:null,description:"",name:"borderless",required:!1,type:{name:"boolean"}}}}}catch{}function M(e){const s="touches"in e?e.touches[0]:e,l=document.documentElement.scrollLeft||document.body.scrollLeft||window.scrollX,n=document.documentElement.scrollTop||document.body.scrollTop||window.scrollY;return{pageX:s.pageX-l,pageY:s.pageY-n}}const q=({containerRef:e,targetRef:s,direction:l="x"})=>{const[n,i]=a.useState({x:0,y:0}),r=a.useRef(null),c=a.useRef(null);a.useEffect(()=>()=>{!r.current||!c.current||(document.removeEventListener("mousemove",r.current),document.removeEventListener("mouseup",c.current),document.removeEventListener("touchmove",r.current),document.removeEventListener("touchend",c.current),r.current=null,c.current=null)},[]);const g=o=>{if(!e.current||!s.current)return;const{pageX:d,pageY:f}=M(o),{x:m,y:N,width:w,height:D}=e.current.getBoundingClientRect(),{width:v,height:_}=s.current.getBoundingClientRect(),y=v/2,x=_/2,X=Math.max(0,Math.min(d-m,w))-y,I=Math.max(0,Math.min(f-N,D))-x,O={x:X,y:l==="x"?n.y:I};i(O)},p=o=>{o.preventDefault(),c.current&&r.current&&(document.removeEventListener("mouseup",c.current),document.removeEventListener("mousemove",r.current),document.removeEventListener("touchend",c.current),document.removeEventListener("touchmove",r.current),r.current=null,c.current=null)},h=o=>{o.preventDefault(),g(o)};return[n,o=>{g(o),document.addEventListener("mouseup",p),document.addEventListener("mousemove",h),document.addEventListener("touchend",p),document.addEventListener("touchmove",h),r.current=h,c.current=p}]},E=({className:e})=>{const s=a.useRef(null),l=a.useRef(null),[n,i]=q({containerRef:s,targetRef:l,direction:"x"});return t.jsx("div",{className:V("lanting-color-picker-slider",e),ref:s,onMouseDown:i,onTouchStart:i,children:t.jsx("div",{style:{position:"absolute",left:n.x},children:t.jsx("div",{className:"lanting-color-picker-handler lanting-color-picker-handler-sm",ref:l})})})};try{E.displayName="Slider",E.__docgenInfo={description:"",displayName:"Slider",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const R=()=>{const[e,s]=a.useState("#fff"),l=n=>{s(n)};return t.jsxs("div",{className:"lanting-color-picker",children:[t.jsx("div",{className:"lanting-color-picker-basic-color"}),t.jsx("div",{className:"lanting-color-picker-saturation",style:{backgroundColor:"rgba(255,0,0)"}}),t.jsx(E,{className:"lanting-color-picker-hue"}),t.jsx(E,{className:"lanting-color-picker-alpha"}),t.jsxs("div",{className:"lanting-color-picker-input",children:[t.jsx("div",{children:"HEX"}),t.jsx(k,{value:e,onChange:n=>l(n.target.value)})]})]})};try{R.displayName="Picker",R.__docgenInfo={description:"",displayName:"Picker",props:{}}}catch{}const C=()=>t.jsx(j,{icon:"format_color_text",children:t.jsx(R,{})});try{C.displayName="ColorPicker",C.__docgenInfo={description:"",displayName:"ColorPicker",props:{}}}catch{}const W={component:C},b={};var L,S,P;b.parameters={...b.parameters,docs:{...(L=b.parameters)==null?void 0:L.docs,source:{originalSource:"{}",...(P=(S=b.parameters)==null?void 0:S.docs)==null?void 0:P.source}}};const F=["Primary"];export{b as Primary,F as __namedExportsOrder,W as default};
//# sourceMappingURL=ColorPicker.stories-df8da447.js.map
