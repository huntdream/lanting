import{j as l,c as j}from"./index-b9F5Aj1R.js";import{r as c,R as S}from"./index-4g5l5LRQ.js";import{r as B}from"./index-jmm5gWkb.js";import{I}from"./platform-DTidj1Fe.js";import{B as O}from"./index-Dhb-M1Y1.js";import"./_commonjsHelpers-4gQjN7DL.js";import"./icons-UAwrDR8W.js";import"./account_circle-CWE-8K_X.js";const w=({title:r,rect:b,placement:p="top",isClosing:v,onClose:y})=>{const n=c.useRef(null),[x,E]=c.useState("");c.useEffect(()=>{const o=new ResizeObserver(s=>{for(const f of s)f.contentRect&&g()});return n.current&&o.observe(n.current),()=>o.disconnect()},[p]),c.useEffect(()=>{const o=()=>{y()};return n.current&&v&&n.current.addEventListener("animationend",o),()=>{var s;return(s=n.current)==null?void 0:s.removeEventListener("animationend",o)}},[v]);const g=()=>{if(!n.current)return;const{width:o,left:s,top:f,height:m}=b,e=window.scrollX+s,u=window.scrollY+f,{width:T,height:h}=n.current.getBoundingClientRect();let i=e,d=u;switch(p){case"right":i=e+o,d=u+m/2-h/2;break;case"bottom":i=e+o/2-T/2,d=u+m;break;case"left":i=e-T,d=u+m/2-h/2;break;default:i=e+o/2-T/2,d=u-h;break}i=Math.max(0,i),d=Math.max(0,d),E(`translate(${i}px, ${d}px)`)};return l.jsx("div",{className:j("lanting-tooltip-container",`lanting-tooltip--${p}`),ref:n,style:{transform:x},children:l.jsx("div",{className:j("lanting-tooltip-content",{"lanting-tooltip-content--fadeOut":v}),children:r})})};try{w.displayName="Tip",w.__docgenInfo={description:"",displayName:"Tip",props:{title:{defaultValue:null,description:"",name:"title",required:!0,type:{name:"ReactNode"}},rect:{defaultValue:null,description:"",name:"rect",required:!0,type:{name:"DOMRect"}},placement:{defaultValue:{value:"top"},description:"",name:"placement",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"right"'},{value:'"bottom"'},{value:'"left"'}]}},isClosing:{defaultValue:null,description:"",name:"isClosing",required:!1,type:{name:"boolean"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!0,type:{name:"() => void"}}}}}catch{}const R=({children:r,title:b,timeout:p=0,placement:v})=>{const y=c.useRef(0),[n,x]=c.useState(!1),[E,g]=c.useState(),[o,s]=c.useState(!1),f=I,m=S.Children.only(r),e=(m==null?void 0:m.props)||{},u=a=>{if(s(!1),!n){const t=a.currentTarget;g(t.getBoundingClientRect()),p>0?y.current=window.setTimeout(()=>{x(!0)},p):x(!0)}},T=()=>{x(!1),g(void 0)},h=()=>{s(!0),y.current&&clearTimeout(y.current)},N={onMouseEnter:a=>{var t;(t=e==null?void 0:e.onMouseEnter)==null||t.call(e,a),!f&&u(a)},onMouseLeave:a=>{var t;(t=e==null?void 0:e.onMouseLeave)==null||t.call(e,a),!f&&h()},onTouchStart:a=>{var t;u(a),(t=e==null?void 0:e.onTouchStart)==null||t.call(e,a)},onTouchEnd:a=>{var t;h(),(t=e==null?void 0:e.onTouchEnd)==null||t.call(e,a)}},L=c.isValidElement(r)&&S.cloneElement(r,N);return l.jsxs(l.Fragment,{children:[L,n&&E&&B.createPortal(l.jsx(w,{title:b,rect:E,isClosing:o,placement:v,onClose:T}),document.body)]})};try{R.displayName="Tooltip",R.__docgenInfo={description:"",displayName:"Tooltip",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"ReactNode"}},timeout:{defaultValue:{value:"0"},description:"",name:"timeout",required:!1,type:{name:"number"}},placement:{defaultValue:null,description:"",name:"placement",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"right"'},{value:'"bottom"'},{value:'"left"'}]}}}}}catch{}const G={component:R},k="夫寵而不驕，驕而能降，降而不憾，憾而能眕者，鮮矣",_={args:{children:l.jsx(O,{children:"Tootip"}),title:k},decorators:[r=>l.jsx("div",{style:{height:"300px",overflow:"auto"},children:l.jsx("div",{style:{margin:"3em",display:"flex",alignContent:"center",justifyContent:"center",height:"400px"},children:l.jsx(r,{})})})]};var M,V,q;_.parameters={..._.parameters,docs:{...(M=_.parameters)==null?void 0:M.docs,source:{originalSource:`{
  args: {
    children: <Button>Tootip</Button>,
    title: text
  },
  decorators: [Story => <div style={{
    height: '300px',
    overflow: 'auto'
  }}>
        <div style={{
      margin: '3em',
      display: 'flex',
      alignContent: 'center',
      justifyContent: 'center',
      height: '400px'
    }}>
          <Story />
        </div>
      </div>]
}`,...(q=(V=_.parameters)==null?void 0:V.docs)==null?void 0:q.source}}};const J=["Primary"];export{_ as Primary,J as __namedExportsOrder,G as default};
//# sourceMappingURL=Tooltip.stories-SskwDQCw.js.map
