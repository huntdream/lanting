import{j as t,c as I}from"./index-111a7888.js";import{r as s}from"./index-76fb7be0.js";import{r as Y}from"./index-d3ea75b5.js";import{I as M}from"./index-2f4c67f6.js";import"./_commonjsHelpers-de833af9.js";import"./account_circle-bdacd3d6.js";const j=({label:e,children:n,visible:l=!1,onVisibleChange:r})=>{const i=s.useRef(null),o=s.useRef(null),[c,f]=s.useState(!1);s.useEffect(()=>{const u=o.current,a=i.current;if(a&&u){const{left:m,top:p,height:h,right:w,width:N,bottom:D}=a.getBoundingClientRect(),{width:v,height:_}=u.getBoundingClientRect();let y=w-v;m+N<v&&(y=m);let x=p+h;window.innerHeight-D<_&&(x=p-h-_),u.style.top=`${x}px`,u.style.left=`${y}px`}},[c,o,i]),s.useEffect(()=>{f(l)},[l]),s.useEffect(()=>{const u=i.current;if(o.current,u!==null&&c){const a=m=>{const p=m.target;u.contains(p)||d(!1)};return document.addEventListener("click",a),()=>{document.removeEventListener("click",a)}}},[o,i,c]);const d=u=>{f(u),r&&r(u)},g=()=>{d(!0)};return t.jsxs(t.Fragment,{children:[t.jsx("div",{ref:i,onClick:g,className:"lanting-dropdown-label",children:e}),c&&Y.createPortal(t.jsx("div",{className:"lanting-dropdown",ref:o,children:n}),document.body)]})};try{j.displayName="DropDown",j.__docgenInfo={description:"",displayName:"DropDown",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"ReactNode"}},visible:{defaultValue:{value:"false"},description:"",name:"visible",required:!1,type:{name:"boolean"}},onVisibleChange:{defaultValue:null,description:"",name:"onVisibleChange",required:!1,type:{name:"((visible: boolean) => void)"}}}}}catch{}const k=s.forwardRef(({className:e,borderless:n,...l},r)=>{const i=I("lanting-input",{"lanting-input--borderless":n},e);return t.jsx("input",{ref:r,className:i,...l})});try{k.displayName="Input",k.__docgenInfo={description:"",displayName:"Input",props:{borderless:{defaultValue:null,description:"",name:"borderless",required:!1,type:{name:"boolean"}}}}}catch{}function q(e){const n="touches"in e?e.touches[0]:e,l=document.documentElement.scrollLeft||document.body.scrollLeft||window.scrollX,r=document.documentElement.scrollTop||document.body.scrollTop||window.scrollY;return{pageX:n.pageX-l,pageY:n.pageY-r}}const B=({containerRef:e,targetRef:n,direction:l="x"})=>{const[r,i]=s.useState({x:0,y:0}),o=s.useRef(null),c=s.useRef(null);s.useEffect(()=>()=>{!o.current||!c.current||(document.removeEventListener("mousemove",o.current),document.removeEventListener("mouseup",c.current),document.removeEventListener("touchmove",o.current),document.removeEventListener("touchend",c.current),o.current=null,c.current=null)},[]);const f=a=>{if(!e.current||!n.current)return;const{pageX:m,pageY:p}=q(a),{x:h,y:w,width:N,height:D}=e.current.getBoundingClientRect(),{width:v,height:_}=n.current.getBoundingClientRect(),y=v/2,x=_/2,P=Math.max(0,Math.min(m-h,N))-y,X=Math.max(0,Math.min(p-w,D))-x,O={x:P,y:l==="x"?r.y:X};i(O)},d=a=>{a.preventDefault(),c.current&&o.current&&(document.removeEventListener("mouseup",c.current),document.removeEventListener("mousemove",o.current),document.removeEventListener("touchend",c.current),document.removeEventListener("touchmove",o.current),o.current=null,c.current=null)},g=a=>{a.preventDefault(),f(a)};return[r,a=>{f(a),document.addEventListener("mouseup",d),document.addEventListener("mousemove",g),document.addEventListener("touchend",d),document.addEventListener("touchmove",g),o.current=g,c.current=d}]},E=({className:e})=>{const n=s.useRef(null),l=s.useRef(null),[r,i]=B({containerRef:n,targetRef:l,direction:"x"});return t.jsx("div",{className:I("lanting-color-picker-slider",e),ref:n,onMouseDown:i,onTouchStart:i,children:t.jsx("div",{style:{position:"absolute",left:r.x},children:t.jsx("div",{className:"lanting-color-picker-handler lanting-color-picker-handler-sm",ref:l})})})};try{E.displayName="Slider",E.__docgenInfo={description:"",displayName:"Slider",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}}}catch{}const R=()=>{const[e,n]=s.useState("#fff"),l=r=>{n(r)};return t.jsxs("div",{className:"lanting-color-picker",children:[t.jsx("div",{className:"lanting-color-picker-basic-color"}),t.jsx("div",{className:"lanting-color-picker-saturation",style:{backgroundColor:"rgba(255,0,0)"}}),t.jsx(E,{className:"lanting-color-picker-hue"}),t.jsx(E,{className:"lanting-color-picker-alpha"}),t.jsxs("div",{className:"lanting-color-picker-input",children:[t.jsx("div",{children:"HEX"}),t.jsx(k,{value:e,onChange:r=>l(r.target.value)})]})]})};try{R.displayName="Picker",R.__docgenInfo={description:"",displayName:"Picker",props:{}}}catch{}const C=()=>{const[e,n]=s.useState(!1);return t.jsx(j,{visible:e,onVisibleChange:n,label:t.jsx(M,{name:"format_color_fill"}),children:t.jsx(R,{})})};try{C.displayName="ColorPicker",C.__docgenInfo={description:"",displayName:"ColorPicker",props:{}}}catch{}const z={component:C},b={};var L,S,V;b.parameters={...b.parameters,docs:{...(L=b.parameters)==null?void 0:L.docs,source:{originalSource:"{}",...(V=(S=b.parameters)==null?void 0:S.docs)==null?void 0:V.source}}};const A=["Primary"];export{b as Primary,A as __namedExportsOrder,z as default};
//# sourceMappingURL=ColorPicker.stories-3a17c8f3.js.map
